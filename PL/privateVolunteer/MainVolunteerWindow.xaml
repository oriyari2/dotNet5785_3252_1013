<!-- MainVolunteerWindow.xaml: This file defines the UI layout and bindings for the Main Volunteer Window. -->
<Window x:Class="PL.MainVolunteerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PL"
        mc:Ignorable="d"
        Title="MainVolunteerWindow" Height="700" Width="900"
        Loaded="MainVolunteerWindow_Loaded"
        Closed="MainVolunteerWindow_Closed">

    <!-- Main Grid layout containing rows for the window's primary and secondary sections -->
    <Grid>
        <Grid.RowDefinitions>
            <!-- The main content occupies most of the space -->
            <RowDefinition Height="4.2*"/>
            <!-- Bottom section for buttons -->
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>

        <!-- Bottom Grid for action buttons -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Button for selecting a call -->
            <Button Grid.Column="1" Content="Select Call" HorizontalAlignment="Center" FontSize="17" VerticalAlignment="Center"
                    Height="60" Width="130" Click="BtnSelectCall_Click">
                <Button.IsEnabled>
                    <!-- Enables the button only if conditions are met using a MultiBinding -->
                    <MultiBinding Converter="{StaticResource IsEnabledSelectConverterkey}">
                        <Binding Path="CurrentCall" />
                        <Binding Path="CurrentVolunteer.Active" />
                    </MultiBinding>
                </Button.IsEnabled>
            </Button>

            <!-- Button to open call history -->
            <Button Content="Calls History" HorizontalAlignment="Center" VerticalAlignment="Center" Height="60" Width="130" FontSize="17" Click="BtnCallsHistory_Click"/>
        </Grid>

        <!-- Main content section -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left panel for call details -->
            <Grid Grid.Column="0">
                <Grid Margin="10,10,30,-3">
                    <!-- Left panel layout grid -->
                    <Grid.RowDefinitions>
                        <!-- Header row for the panel -->
                        <RowDefinition Height="2*" />
                        <!-- Rows for input fields -->
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <!-- Footer row -->
                        <RowDefinition Height="2*" />
                    </Grid.RowDefinitions>

                    <!-- Column definitions for labels and input fields -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1.65*" />
                    </Grid.ColumnDefinitions>

                    <!-- Header for current call -->
                    <Grid Grid.Row="0" Background="#E6E6E6" Grid.ColumnSpan="2">
                        <Label Content="Current Call:" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Input fields for call details -->
                    <Label Grid.Row="1" Grid.Column="0" Content="Id:" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding CurrentCall.Id, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" 
                             IsReadOnly="True" />

                    <Label Grid.Row="2" Grid.Column="0" Content="Call Type:" />
                    <ComboBox Grid.Row="2" Grid.Column="1" IsEnabled="False" ItemsSource="{Binding Source={StaticResource CallTypeCollectionKey}}" 
                              SelectedValue="{Binding CurrentCall.TheCallType, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" />

                    <!-- Additional details and actions omitted for brevity -->

                </Grid>
                <Border BorderBrush="Black" BorderThickness="1"/>
            </Grid>

            <!-- Right panel for volunteer details -->
            <Grid Grid.Column="1">
                <Grid Margin="30,10,10,-3">
                    <!-- Right panel layout grid -->
                    <Grid.RowDefinitions>
                        <!-- Header row -->
                        <RowDefinition Height="2*"/>
                        <!-- Rows for input fields -->
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="*" />
                        <!-- Footer row -->
                        <RowDefinition Height="2*" />
                    </Grid.RowDefinitions>

                    <!-- Column definitions for labels and input fields -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="2*" />
                    </Grid.ColumnDefinitions>

                    <!-- Header for volunteer details -->
                    <Grid Grid.Row="0" Background="#E6E6E6" Grid.ColumnSpan="2">
                        <Label Grid.Column="0" Content="Volunteer Details:" HorizontalAlignment="Center" VerticalAlignment="Center" />
                    </Grid>

                    <!-- Input fields for volunteer details -->
                    <Label Grid.Row="1" Grid.Column="0" Content="Id:" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding CurrentVolunteer.Id, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" 
                             IsReadOnly="True" />

                    <Label Grid.Row="2" Grid.Column="0" Content="Name:" />
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding CurrentVolunteer.Name, Mode=TwoWay, NotifyOnValidationError=true, ValidatesOnExceptions=true}" />

                    <!-- Additional details and actions omitted for brevity -->

                </Grid>
                <Border BorderBrush="Black" BorderThickness="1"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
